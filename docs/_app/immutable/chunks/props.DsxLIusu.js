import{X as L,Y as G,Z as J,_ as E,$ as V,a0 as h,a1 as o,a2 as N,g as P,D as F,a3 as X,a4 as Q,q as W,h as p,a5 as M,i as U,a6 as j,k as q,O as ee,E as re,a7 as ne,a8 as ae,K as te,J as K,l as ie,n as B,b as C,x as fe,a9 as z,aa as se,ab as ue,ac as le,ad as ve,ae as de,af as _e,A as Z,ag as ce,ah as be,ai as oe,f as $,aj as ge,ak as ye}from"./runtime.CMzVgPk-.js";function S(n,i=null,d){if(typeof n!="object"||n===null||L in n)return n;const u=Q(n);if(u!==G&&u!==J)return n;var f=new Map,l=W(n),b=E(0);l&&f.set("length",E(n.length));var c;return new Proxy(n,{defineProperty(t,e,r){(!("value"in r)||r.configurable===!1||r.enumerable===!1||r.writable===!1)&&V();var a=f.get(e);return a===void 0?(a=E(r.value),f.set(e,a)):h(a,S(r.value,c)),!0},deleteProperty(t,e){var r=f.get(e);if(r===void 0)e in t&&f.set(e,E(o));else{if(l&&typeof e=="string"){var a=f.get("length"),s=Number(e);Number.isInteger(s)&&s<a.v&&h(a,s)}h(r,o),H(b)}return!0},get(t,e,r){var g;if(e===L)return n;var a=f.get(e),s=e in t;if(a===void 0&&(!s||(g=N(t,e))!=null&&g.writable)&&(a=E(S(s?t[e]:o,c)),f.set(e,a)),a!==void 0){var v=P(a);return v===o?void 0:v}return Reflect.get(t,e,r)},getOwnPropertyDescriptor(t,e){var r=Reflect.getOwnPropertyDescriptor(t,e);if(r&&"value"in r){var a=f.get(e);a&&(r.value=P(a))}else if(r===void 0){var s=f.get(e),v=s==null?void 0:s.v;if(s!==void 0&&v!==o)return{enumerable:!0,configurable:!0,value:v,writable:!0}}return r},has(t,e){var v;if(e===L)return!0;var r=f.get(e),a=r!==void 0&&r.v!==o||Reflect.has(t,e);if(r!==void 0||F!==null&&(!a||(v=N(t,e))!=null&&v.writable)){r===void 0&&(r=E(a?S(t[e],c):o),f.set(e,r));var s=P(r);if(s===o)return!1}return a},set(t,e,r,a){var m;var s=f.get(e),v=e in t;if(l&&e==="length")for(var g=r;g<s.v;g+=1){var y=f.get(g+"");y!==void 0?h(y,o):g in t&&(y=E(o),f.set(g+"",y))}s===void 0?(!v||(m=N(t,e))!=null&&m.writable)&&(s=E(void 0),h(s,S(r,c)),f.set(e,s)):(v=s.v!==o,h(s,S(r,c)));var R=Reflect.getOwnPropertyDescriptor(t,e);if(R!=null&&R.set&&R.set.call(a,r),!v){if(l&&typeof e=="string"){var T=f.get("length"),w=Number(e);Number.isInteger(w)&&w>=T.v&&h(T,w+1)}H(b)}return!0},ownKeys(t){P(b);var e=Reflect.ownKeys(t).filter(s=>{var v=f.get(s);return v===void 0||v.v!==o});for(var[r,a]of f)a.v!==o&&!(r in t)&&e.push(r);return e},setPrototypeOf(){X()}})}function H(n,i=1){h(n,n.v+i)}function Re(n,i,d,u=null,f=!1){q&&ee();var l=n,b=null,c=null,t=null,e=f?re:0;p(()=>{if(t===(t=!!i()))return;let r=!1;if(q){const a=l.data===ne;t===a&&(l=ae(),te(l),K(!1),r=!0)}t?(b?M(b):b=U(()=>d(l)),c&&j(c,()=>{c=null})):(c?M(c):u&&(c=U(()=>u(l))),b&&j(b,()=>{b=null})),r&&K(!0)},e),q&&(l=ie)}function he(n,i,d){if(n==null)return i(void 0),B;const u=C(()=>n.subscribe(i,d));return u.unsubscribe?()=>u.unsubscribe():u}let A=!1;function we(n,i,d){const u=d[i]??(d[i]={store:null,source:z(void 0),unsubscribe:B});if(u.store!==n)if(u.unsubscribe(),u.store=n??null,n==null)u.source.v=void 0,u.unsubscribe=B;else{var f=!0;u.unsubscribe=he(n,l=>{f?u.source.v=l:h(u.source,l)}),f=!1}return P(u.source)}function Ie(){const n={};return fe(()=>{for(var i in n)n[i].unsubscribe()}),n}function Pe(n){var i=A;try{return A=!1,[n(),A]}finally{A=i}}function k(n){for(var i=F,d=F;i!==null&&!(i.f&(de|_e));)i=i.parent;try{return Z(i),n()}finally{Z(d)}}function Se(n,i,d,u){var Y;var f=(d&ce)!==0,l=(d&be)!==0,b=(d&oe)!==0,c=(d&ye)!==0,t=!1,e;b?[e,t]=Pe(()=>n[i]):e=n[i];var r=(Y=N(n,i))==null?void 0:Y.set,a=u,s=!0,v=!1,g=()=>(v=!0,s&&(s=!1,c?a=C(u):a=u),a);e===void 0&&u!==void 0&&(r&&l&&se(),e=g(),r&&r(e));var y;if(l)y=()=>{var _=n[i];return _===void 0?g():(s=!0,v=!1,_)};else{var R=k(()=>(f?$:ge)(()=>n[i]));R.f|=ue,y=()=>{var _=P(R);return _!==void 0&&(a=void 0),_===void 0?a:_}}if(!(d&le))return y;if(r){var T=n.$$legacy;return function(_,I){return arguments.length>0?((!l||!I||T||t)&&r(I?y():_),_):y()}}var w=!1,m=!1,D=z(e),O=k(()=>$(()=>{var _=y(),I=P(D);return w?(w=!1,m=!0,I):(m=!1,D.v=_)}));return f||(O.equals=ve),function(_,I){if(arguments.length>0){const x=I?P(O):l&&b?S(_):_;return O.equals(x)||(w=!0,h(D,x),v&&a!==void 0&&(a=x),C(()=>P(O))),_}return P(O)}}export{S as a,we as b,Re as i,Se as p,Ie as s};
